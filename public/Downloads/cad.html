<?php 
function post($attr){ 
ob_start();
?>
<style>
  .post-category {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    grid-gap: 25px;
  }
  .post-category img {
    width: 250px;
    height: 140px;
    object-fit: cover;
    border-radius: 3px;
  }
  .post-category .blogtitles {
    font-weight: bold;
    font-size: 15px;
    margin: 20px 0px !important;
  }
  .pagination.pagee {
    display: flex;
    margin-top: 30px;
    flex-wrap: wrap;
    justify-content: center;
  }
  .pagination.pagee .page-numbers {
    display: block;
    font-size: 18px;
    font-weight: 700;
    text-decoration: none;
    line-height: 1;
    padding: 15px 12px !important;
    box-shadow: 1px 1px 3px rgb(0 0 0 / 20%);
    margin: 20px 5px !important;
    color: #000;
  }
  .pagination.pagee .current {
    background: #ff7000;
  }
  .pagination.pagee .page-numbers:hover {
    background: #149052;
    color: #fff;
  }
  @media (max-width: 768px) {
    .post-category {
      flex-wrap: nowrap;
      overflow-x: scroll;
      margin-right: -10px;
      margin-left: -10px;
      padding-right: 10px;
      padding-left: 10px;
      padding-bottom: 10px;
      display: flex;
      grid-gap: 10px;
    }
    .post-category img {
      width: 250px;
      height: 120px;
    }
    .pagination.pagee .page-numbers {
      font-size: 12px;
      padding: 10px 6px !important;
      margin: 10px 5px !important;
    }
    .blogpost {
      width: 55vw;
      flex: 0 0 auto;
    }
    .post-category::-webkit-scrollbar {
      display: none;
    }
    /* Hide scrollbar for IE, Edge and Firefox */
    .post-category {
      -ms-overflow-style: none; /* IE and Edge */
      scrollbar-width: none; /* Firefox */
    }
  }
</style>
<?php
    global $wp_query;
	 $args_vari = shortcode_atts( array(
		 'category'=>'', ), $attr ); $paged = (get_query_var('paged')) ?
get_query_var('paged') : 1; $category_shortcode= new WP_Query(array( 'post_type'
=> 'post', 'posts_per_page' => 9, 'paged' => $paged, 'order' => 'DESC',
'category_name' => $args_vari['category'], )); global $postcategory,$checking;
$postcategory = $category_shortcode->found_posts; $checking = $totalpost; ?>
<aside>
  <div class="post-category">
    <?php
    if ($category_shortcode->have_posts()): while
    ($category_shortcode->have_posts()) : $category_shortcode->the_post();
    $thumbnail_id = get_post_thumbnail_id(); $thumbnail_url =
    wp_get_attachment_image_src( $thumbnail_id, 'thumbnail-size', true);
    $thumbnail_meta = get_post_meta( $thumbnail_id, '_wp_attachment_image_alt',
    true); $postlink=get_permalink(); $title=get_the_title(); $time=
    get_the_time( 'd F Y' ); $excerpt=get_the_excerpt(); ?>
    <div class="blogpost">
      <a href="<?php echo $postlink; ?>"
        ><img
          src="<?php echo $thumbnail_url[0]; ?>"
          alt="<?php echo $thumbnail_meta; ?>"
          class="img-responsive"
      /></a>
      <div class="blogpostdetail">
        <a href="<?php echo $postlink; ?>"
          ><p class="blogtitles"><?php echo $title; ?></p></a
        >
        <p class="date">
          <i class="fas fa-clock"></i
          ><?php echo $time; ?>
        </p>
      </div>
    </div>
    <?php  
endwhile; 
?>
  </div>
  <?php endif; ?>
  <?php /****************** Slot Filter Content Pagination *******************/ ?>
  <div class="pagination pagee">
    <?php           
                        $paged_fot = get_query_var('paged');
                        $big = 999999999;
                        echo paginate_links( array(
                            'base' =>
    str_replace( $big, '%#%', get_pagenum_link( $big ) ), 'format' =>
    '?paged=%#%', 'current' => max( 1, $paged_fot ), 'total' =>
    $category_shortcode->max_num_pages, 'prev_text' => __('Posts Nuevos'),
    'next_text' => __('Posts Anteriores'), ) ); $current=max( 1,
    get_query_var('paged') ); ?>
  </div>
  <?php /****************** Slot Filter Content Pagination *******************/ ?>
  <?php wp_reset_postdata();?>

  <script>
    jQuery(document).on("click", ".page-numbers", function (e) {
      e.preventDefault();
      var formdata = jQuery(".page-numbers").attr("href");
      // var test = jQuery(this).val( jQuery(this).attr("href") );
      var $a = jQuery(this),
        url = $a.attr("href"),
        page = url.match(/\d+/),
        pageNumber = page[0];
      console.log(pageNumber);
    });

    jQuery.fn.equalHeights = function () {
      var max_height = 0;
      jQuery(this).each(function () {
        max_height = Math.max(jQuery(this).height(), max_height);
      });
      jQuery(this).each(function () {
        jQuery(this).height(max_height);
      });
    };
    jQuery(document).ready(function () {
      jQuery(".blogtitles").equalHeights();
    });
  </script>
</aside>
<?php
return ob_get_clean(); 
} 
add_shortcode( 'post' , 'post' ); 
?>
